!function(t,i,e){var o=function(i,e){this.defaults={direction:"return"},this.options=t.extend({},this.defaults,e||{}),this.oBox=i.get(0),this.oUl=this.oBox.getElementsByTagName("ul")[0],this.aImg=this.oUl.getElementsByTagName("img"),this.iNow=0,this.timer=null,this.autoTimer=null,this.bOrder=!0};o.prototype={init:function(){var t=this;this.createBtn(),this.aBtn=this.oCount.getElementsByTagName("li"),this.toggle(),this.autoTimer=setInterval(function(){t.next()},3e3),this.oUl.onmouseover=function(){clearInterval(t.autoTimer)},this.oUl.onmouseout=function(){t.autoTimer=setInterval(function(){t.next()},3e3)};for(var i=0;i<this.aBtn.length;i++)this.aBtn[i].index=i,this.aBtn[i].onmouseover=function(){t.iNow=this.index,t.toggle()}},createBtn:function(){this.oCount=e.createElement("ul");var t=e.createDocumentFragment();this.oCount.className="count";for(var i=0;i<this.aImg.length;i++){var o=e.createElement("li");o.innerHTML=i+1,t.appendChild(o)}this.oCount.appendChild(t),this.oBox.appendChild(this.oCount)},next:function(){switch(this.bOrder?this.iNow++:this.iNow--,this.iNow<=0&&(this.iNow=0,this.bOrder=!0),this.options.direction){case"return":this.iNow>=this.aImg.length-1&&(this.iNow=this.aImg.length-1,this.bOrder=!1);break;case"forwards":this.iNow>=this.aImg.length&&(this.iNow=0,this.bOrder=!0)}this.toggle()},toggle:function(){for(var t=0;t<this.aBtn.length;t++)this.aBtn[t].className="";this.aBtn[this.iNow].className="current",this.doMove(-this.iNow*this.aImg[0].offsetHeight)},doMove:function(t){var i=this;clearInterval(this.timer),this.timer=setInterval(function(){var e=(t-i.oUl.offsetTop)/10;e=e>0?Math.ceil(e):Math.floor(e),i.oUl.offsetTop===t?clearInterval(i.timer):i.oUl.style.top=i.oUl.offsetTop+e+"px"},30)}},t.fn.extend({mSlide:function(t){return slider=new o(this,t),slider.init()}})}(jQuery,window,document);